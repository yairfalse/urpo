import{r as i,a as H,R as V}from"./vendor-B2c3rwni.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function d(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(t){if(t.ep)return;t.ep=!0;const a=d(t);fetch(t.href,a)}})();var P={exports:{}},E={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B=i,z=Symbol.for("react.element"),W=Symbol.for("react.fragment"),K=Object.prototype.hasOwnProperty,Q=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G={key:!0,ref:!0,__self:!0,__source:!0};function L(r,l,d){var o,t={},a=null,c=null;d!==void 0&&(a=""+d),l.key!==void 0&&(a=""+l.key),l.ref!==void 0&&(c=l.ref);for(o in l)K.call(l,o)&&!G.hasOwnProperty(o)&&(t[o]=l[o]);if(r&&r.defaultProps)for(o in l=r.defaultProps,l)t[o]===void 0&&(t[o]=l[o]);return{$$typeof:z,type:r,key:a,ref:c,props:t,_owner:Q.current}}E.Fragment=W;E.jsx=L;E.jsxs=L;P.exports=E;var e=P.exports,M={},T=H;M.createRoot=T.createRoot,M.hydrateRoot=T.hydrateRoot;function Y(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function F(r,l=!1){const d=Y(),o=`_${d}`;return Object.defineProperty(window,o,{value:t=>(l&&Reflect.deleteProperty(window,o),r==null?void 0:r(t)),writable:!1,configurable:!0}),d}async function $(r,l={}){return new Promise((d,o)=>{const t=F(c=>{d(c),Reflect.deleteProperty(window,`_${a}`)},!0),a=F(c=>{o(c),Reflect.deleteProperty(window,`_${t}`)},!0);window.__TAURI_IPC__({cmd:r,callback:t,error:a,...l})})}const O=i.memo(({services:r})=>{const l=i.useMemo(()=>[...r].sort((t,a)=>a.request_rate-t.request_rate),[r]),d=t=>t===0?{color:"text-green-500",bg:"bg-green-500/10",label:"Healthy"}:t<1?{color:"text-yellow-500",bg:"bg-yellow-500/10",label:"Warning"}:{color:"text-red-500",bg:"bg-red-500/10",label:"Critical"},o=t=>t<100?"text-green-400":t<500?"text-yellow-400":"text-red-400";return r.length===0?e.jsxs("div",{className:"bg-slate-900 rounded-lg p-8 text-center",children:[e.jsx("p",{className:"text-slate-500",children:"No services detected yet..."}),e.jsx("p",{className:"text-slate-600 text-sm mt-2",children:"Waiting for spans (unlike Jaeger, we'll show them instantly when they arrive)"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-200",children:"Service Health Dashboard"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(t=>{const a=d(t.error_rate);return e.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-800 hover:border-slate-700 transition-colors gpu-accelerated",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium text-slate-200 truncate",children:t.name}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${a.bg} ${a.color}`,children:a.label})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500 text-xs",children:"Request Rate"}),e.jsxs("p",{className:"font-mono text-slate-300",children:[t.request_rate.toFixed(1),"/s"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500 text-xs",children:"Error Rate"}),e.jsxs("p",{className:`font-mono ${a.color}`,children:[t.error_rate.toFixed(2),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500 text-xs",children:"P50 Latency"}),e.jsxs("p",{className:"font-mono text-slate-300",children:[t.latency_p50,"ms"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500 text-xs",children:"P99 Latency"}),e.jsxs("p",{className:`font-mono ${o(t.latency_p99)}`,children:[t.latency_p99,"ms"]})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-500",children:"Active Spans"}),e.jsx("span",{className:"text-xs font-mono text-slate-400",children:t.active_spans})]}),e.jsx("div",{className:"mt-1 h-1 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${Math.min(t.active_spans/100*100,100)}%`}})})]})]},t.name)})}),e.jsx("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-800",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-500",children:r.length}),e.jsx("p",{className:"text-xs text-slate-500",children:"Services"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-300",children:r.reduce((t,a)=>t+a.request_rate,0).toFixed(0)}),e.jsx("p",{className:"text-xs text-slate-500",children:"Total RPS"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:[(r.reduce((t,a)=>t+a.error_rate,0)/r.length).toFixed(2),"%"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Avg Error Rate"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:[Math.max(...r.map(t=>t.latency_p99)),"ms"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Max P99"})]})]})})]})});O.displayName="ServiceHealthDashboard";const k=i.memo(({trace:r,spans:l})=>{const[d,o]=i.useState(new Set),[t,a]=i.useState({start:0,end:50}),c=i.useRef(null),[N,f]=i.useState(null),b=i.useMemo(()=>{const s=new Map,m=new Map;return l.forEach(x=>{m.set(x.span_id,x)}),l.forEach(x=>{const h=x.parent_span_id;s.has(h)||s.set(h,[]),s.get(h).push(x)}),s.forEach(x=>{x.sort((h,S)=>h.start_time-S.start_time)}),{tree:s,spanMap:m}},[l]),p=i.useMemo(()=>{const s=[],m=(x,h)=>{(b.tree.get(x)||[]).forEach(y=>{s.push({span:y,level:h}),d.has(y.span_id)&&m(y.span_id,h+1)})};return m(void 0,0),s},[b,d]),g=i.useMemo(()=>{if(l.length===0)return null;const s=Math.min(...l.map(h=>h.start_time)),m=Math.max(...l.map(h=>h.start_time+h.duration)),x=m-s;return{minTime:s,maxTime:m,totalDuration:x}},[l]),v=i.useCallback(()=>{if(!c.current)return;const s=c.current,m=s.scrollTop,x=32,h=s.clientHeight,S=Math.floor(m/x),y=Math.ceil(h/x),R=Math.min(S+y+10,p.length);a({start:Math.max(0,S-10),end:R})},[p.length]);i.useEffect(()=>{const s=c.current;if(s)return s.addEventListener("scroll",v),()=>s.removeEventListener("scroll",v)},[v]);const _=s=>{o(m=>{const x=new Set(m);return x.has(s)?x.delete(s):x.add(s),x})},u=s=>s<1?`${(s*1e3).toFixed(0)}μs`:s<1e3?`${s.toFixed(1)}ms`:`${(s/1e3).toFixed(2)}s`,w=s=>s.status==="error"?"bg-red-500":s.duration>1e3?"bg-yellow-500":"bg-green-500",n=s=>{if(!g)return{left:0,width:0};const x=(s.start_time-g.minTime)/g.totalDuration*100,h=s.duration/g.totalDuration*100;return{left:`${x}%`,width:`${Math.max(h,.1)}%`}},j=p.slice(t.start,t.end);return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"p-3 border-b border-slate-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-300",children:r.root_operation}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[r.span_count," spans • ",u(r.duration)]})]}),e.jsxs("div",{className:"text-xs text-slate-500",children:[e.jsxs("p",{children:["Showing ",t.start,"-",t.end," of ",p.length]}),e.jsx("p",{className:"text-green-400",children:"Virtualized (unlike Jaeger!)"})]})]})}),e.jsx("div",{className:"h-8 bg-slate-950 border-b border-slate-800 relative px-3",children:e.jsxs("div",{className:"absolute inset-x-3 top-0 h-full flex items-center",children:[e.jsx("span",{className:"text-xs text-slate-500",children:"0ms"}),e.jsx("div",{className:"flex-1"}),e.jsx("span",{className:"text-xs text-slate-500",children:u(r.duration)})]})}),e.jsx("div",{ref:c,className:"flex-1 overflow-y-auto relative",style:{height:"calc(100% - 120px)"},children:e.jsx("div",{style:{height:`${p.length*32}px`,position:"relative"},children:j.map(({span:s,level:m},x)=>{var C;const h=(((C=b.tree.get(s.span_id))==null?void 0:C.length)||0)>0,S=d.has(s.span_id),y=n(s),R=t.start+x;return e.jsx("div",{className:`absolute w-full h-8 border-b border-slate-850 hover:bg-slate-800/50 transition-colors ${N===s.span_id?"bg-slate-800":""}`,style:{top:`${R*32}px`},onClick:()=>f(s.span_id),children:e.jsxs("div",{className:"flex items-center h-full",children:[e.jsxs("div",{className:"flex items-center h-full",style:{paddingLeft:`${m*20+8}px`,width:"300px"},children:[h&&e.jsx("button",{onClick:J=>{J.stopPropagation(),_(s.span_id)},className:"mr-1 text-slate-500 hover:text-slate-300",children:S?"▼":"▶"}),e.jsx("span",{className:"text-xs text-slate-300 truncate",children:s.operation_name}),s.status==="error"&&e.jsx("span",{className:"ml-2 text-xs px-1 py-0.5 bg-red-500/20 text-red-400 rounded",children:"ERR"})]}),e.jsx("div",{className:"w-150 px-2",children:e.jsx("span",{className:"text-xs text-slate-500 truncate",children:s.service_name})}),e.jsx("div",{className:"w-80 px-2",children:e.jsx("span",{className:"text-xs text-slate-400 font-mono",children:u(s.duration)})}),e.jsx("div",{className:"flex-1 h-full relative px-2",children:e.jsx("div",{className:"relative h-full flex items-center",children:e.jsx("div",{className:`absolute h-1 ${w(s)} opacity-70`,style:{left:y.left,width:y.width}})})})]})},s.span_id)})})}),N&&e.jsx("div",{className:"h-48 border-t border-slate-800 p-3 overflow-y-auto bg-slate-950",children:(()=>{const s=b.spanMap.get(N);return s?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-300",children:s.operation_name}),e.jsx("button",{onClick:()=>f(null),className:"text-slate-500 hover:text-slate-300",children:"✕"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Service:"}),e.jsx("span",{className:"ml-2 text-slate-300",children:s.service_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Duration:"}),e.jsx("span",{className:"ml-2 text-slate-300",children:u(s.duration)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Span ID:"}),e.jsx("span",{className:"ml-2 text-slate-400 font-mono",children:s.span_id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Status:"}),e.jsx("span",{className:`ml-2 ${s.status==="error"?"text-red-400":"text-green-400"}`,children:s.status})]})]}),s.error_message&&e.jsx("div",{className:"text-xs bg-red-900/20 border border-red-800 rounded p-2 text-red-400",children:s.error_message}),Object.keys(s.attributes).length>0&&e.jsxs("div",{className:"text-xs",children:[e.jsx("p",{className:"text-slate-500 mb-1",children:"Attributes:"}),e.jsx("div",{className:"bg-slate-900 rounded p-2 space-y-1",children:Object.entries(s.attributes).map(([m,x])=>e.jsxs("div",{children:[e.jsxs("span",{className:"text-slate-500",children:[m,":"]}),e.jsx("span",{className:"ml-2 text-slate-300",children:x})]},m))})]})]}):null})()})]})});k.displayName="VirtualizedTraceView";const D=i.memo(({traces:r,onRefresh:l})=>{const[d,o]=i.useState(null),[t,a]=i.useState([]),[c,N]=i.useState(!1),[f,b]=i.useState(""),[p,g]=i.useState(!1),v=i.useMemo(()=>{if(!f)return p?r.filter(s=>s.has_error):r;const n=f.toLowerCase();let j=r.filter(s=>s.trace_id.toLowerCase().includes(n)||s.root_service.toLowerCase().includes(n)||s.root_operation.toLowerCase().includes(n)||s.services.some(m=>m.toLowerCase().includes(n)));return p&&(j=j.filter(s=>s.has_error)),j},[r,f,p]),_=i.useCallback(async n=>{N(!0);try{if(n.span_count>5e3)await $("stream_trace_data",{window,traceId:n.trace_id}),a([]);else{const j=await $("get_trace_spans",{traceId:n.trace_id});a(j)}o(n)}catch(j){console.error("Failed to load trace spans:",j)}finally{N(!1)}},[]),u=n=>n<1?`${(n*1e3).toFixed(0)}μs`:n<1e3?`${n.toFixed(1)}ms`:`${(n/1e3).toFixed(2)}s`,w=n=>new Date(n*1e3).toLocaleTimeString();return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-200",children:"Trace Explorer"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Search traces... (instant, not like Jaeger)",value:f,onChange:n=>b(n.target.value),className:"px-3 py-2 bg-slate-900 border border-slate-800 rounded text-sm text-slate-300 placeholder-slate-600 focus:border-green-500 focus:outline-none w-64"}),e.jsx("button",{onClick:()=>g(!p),className:`px-3 py-2 rounded text-sm transition-colors ${p?"bg-red-600 text-white":"bg-slate-900 text-slate-400 hover:text-white border border-slate-800"}`,children:"Errors Only"}),e.jsx("button",{onClick:l,className:"px-3 py-2 bg-slate-900 text-slate-400 hover:text-white border border-slate-800 rounded text-sm transition-colors",children:"Refresh"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsx("div",{className:"space-y-2 max-h-[calc(100vh-200px)] overflow-y-auto",children:v.length===0?e.jsx("div",{className:"bg-slate-900 rounded-lg p-8 text-center",children:e.jsx("p",{className:"text-slate-500",children:"No traces found"})}):v.map(n=>e.jsx("div",{onClick:()=>_(n),className:`bg-slate-900 rounded-lg p-3 border border-slate-800 hover:border-slate-700 cursor-pointer transition-colors ${(d==null?void 0:d.trace_id)===n.trace_id?"border-green-500":""}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"font-mono text-xs text-slate-500",children:[n.trace_id.slice(0,16),"..."]}),n.has_error&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-red-500/20 text-red-400 rounded",children:"ERROR"})]}),e.jsx("p",{className:"text-sm text-slate-300 mt-1",children:n.root_operation}),e.jsxs("div",{className:"flex items-center space-x-3 mt-2 text-xs text-slate-500",children:[e.jsx("span",{children:n.root_service}),e.jsx("span",{children:"•"}),e.jsx("span",{children:u(n.duration)}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[n.span_count," spans"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:w(n.start_time)})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[n.services.slice(0,3).map(j=>e.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-slate-800 text-slate-400 rounded",children:j},j)),n.services.length>3&&e.jsxs("span",{className:"text-xs px-1.5 py-0.5 bg-slate-800 text-slate-500 rounded",children:["+",n.services.length-3]})]})]})})},n.trace_id))}),e.jsx("div",{className:"bg-slate-900 rounded-lg border border-slate-800 h-[calc(100vh-200px)]",children:c?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin text-green-500 text-2xl mb-2",children:"⚡"}),e.jsx("p",{className:"text-slate-400",children:"Loading spans..."}),e.jsx("p",{className:"text-slate-600 text-xs mt-1",children:"(Even 100K spans load fast, unlike Jaeger)"})]})}):d?e.jsx(k,{trace:d,spans:t}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("p",{className:"text-slate-500",children:"Select a trace to view details"})})})]})]})});D.displayName="TraceExplorer";const I=i.memo(({metrics:r})=>{const l=t=>{const a=Math.floor(t/3600),c=Math.floor(t%3600/60),N=t%60;return a>0?`${a}h ${c}m`:c>0?`${c}m ${N}s`:`${N}s`},d=t=>t<50?"text-green-500":t<100?"text-yellow-500":"text-red-500",o=t=>t<20?"text-green-500":t<50?"text-yellow-500":"text-red-500";return e.jsxs("div",{className:"mt-6 bg-slate-900 rounded-lg p-4 border border-slate-800",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-200 mb-3",children:"System Performance (Making Jaeger Cry 😢)"}),e.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Memory Usage"}),e.jsxs("p",{className:`text-lg font-mono ${d(r.memory_usage_mb)}`,children:[r.memory_usage_mb.toFixed(1),"MB"]}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Jaeger: 2000MB+ 🤮"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"CPU Usage"}),e.jsxs("p",{className:`text-lg font-mono ${o(r.cpu_usage_percent)}`,children:[r.cpu_usage_percent.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Jaeger: 80%+ 🔥"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Throughput"}),e.jsxs("p",{className:"text-lg font-mono text-green-500",children:[r.spans_per_second.toFixed(0),"/s"]}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"10x Jaeger 🚀"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Total Spans"}),e.jsx("p",{className:"text-lg font-mono text-slate-300",children:r.total_spans.toLocaleString()}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"No limits! 💪"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Uptime"}),e.jsx("p",{className:"text-lg font-mono text-slate-300",children:l(r.uptime_seconds)}),e.jsx("p",{className:"text-xs text-green-400 mt-1",children:"Started in <200ms ⚡"})]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-slate-500",children:"Memory Efficiency"}),e.jsxs("span",{className:"text-slate-400",children:[(100-r.memory_usage_mb/100*100).toFixed(0),"%"]})]}),e.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-300",style:{width:`${Math.max(100-r.memory_usage_mb/100*100,0)}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-slate-500",children:"Processing Power"}),e.jsx("span",{className:"text-slate-400",children:r.spans_per_second>1e3?"🔥 BLAZING":`${r.spans_per_second.toFixed(0)} spans/s`})]}),e.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300",style:{width:`${Math.min(r.spans_per_second/1e4*100,100)}%`}})})]})]})]})});I.displayName="SystemMetrics";const A=i.memo(()=>{const[r,l]=i.useState("health"),[d,o]=i.useState([]),[t,a]=i.useState([]),[c,N]=i.useState(null),[f,b]=i.useState(!0),[p,g]=i.useState(null),v=i.useCallback(async()=>{try{const[u,w]=await Promise.all([$("get_service_metrics"),$("get_system_metrics")]);requestAnimationFrame(()=>{o(u),N(w),g(null)})}catch(u){g(String(u))}},[]),_=i.useCallback(async()=>{try{const u=await $("list_recent_traces",{limit:100});requestAnimationFrame(()=>{a(u),g(null)})}catch(u){g(String(u))}},[]);return i.useEffect(()=>((async()=>{try{await $("start_receiver"),b(!1)}catch(w){g(`Failed to start receiver: ${w}`),b(!1)}})(),()=>{$("stop_receiver").catch(console.error)}),[]),i.useEffect(()=>{if(f)return;v();const u=setInterval(v,1e3);return()=>clearInterval(u)},[f,v]),i.useEffect(()=>{r==="traces"&&!f&&_()},[r,f,_]),f?e.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-pulse text-green-500 text-2xl mb-2",children:"⚡"}),e.jsx("p",{className:"text-slate-400",children:"Starting Urpo..."}),e.jsx("p",{className:"text-slate-600 text-sm mt-2",children:"Target: <200ms"})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:[e.jsx("header",{className:"bg-slate-900 border-b border-slate-800 px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h1",{className:"text-xl font-bold text-green-500",children:"URPO"}),e.jsx("span",{className:"text-xs text-slate-500",children:"The Ferrari of Trace Explorers 🏎️"})]}),e.jsxs("nav",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>l("health"),className:`px-4 py-2 rounded transition-colors ${r==="health"?"bg-green-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:"Service Health"}),e.jsx("button",{onClick:()=>l("traces"),className:`px-4 py-2 rounded transition-colors ${r==="traces"?"bg-green-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:"Trace Explorer"})]}),c&&e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-500",children:[e.jsxs("span",{children:["Memory: ",c.memory_usage_mb.toFixed(1),"MB"]}),e.jsxs("span",{children:["CPU: ",c.cpu_usage_percent.toFixed(1),"%"]}),e.jsxs("span",{children:[c.spans_per_second.toFixed(0)," spans/s"]})]})]})}),p&&e.jsx("div",{className:"bg-red-900/20 border border-red-800 text-red-400 px-4 py-2 m-4 rounded",children:p}),e.jsx("main",{className:"p-6",children:r==="health"?e.jsxs(e.Fragment,{children:[e.jsx(O,{services:d}),c&&e.jsx(I,{metrics:c})]}):e.jsx(D,{traces:t,onRefresh:_})}),e.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-slate-900 border-t border-slate-800 px-6 py-2 text-xs text-slate-500",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[d.length," services • ",t.length," traces • ",(c==null?void 0:c.total_spans)||0," spans"]}),e.jsx("span",{children:"Jaeger crying in the corner with its 30s startup time 😢"})]})})]})});A.displayName="App";const U=performance.now();M.createRoot(document.getElementById("root")).render(e.jsx(V.StrictMode,{children:e.jsx(A,{})}));const q=performance.now();console.log(`React startup time: ${(q-U).toFixed(2)}ms`);q-U>200&&console.warn("⚠️ Startup time exceeded 200ms target!");
